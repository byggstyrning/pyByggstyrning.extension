<Window xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Select Parameter Mapping" Width="700" Height="550" WindowStartupLocation="CenterScreen" ResizeMode="CanResize"
        Background="{DynamicResource WindowBackgroundBrush}">
    <!-- Styles will be loaded programmatically -->
    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="3" Margin="0,0,0,15">
            <TextBlock Text="Select Parameter Mapping" Style="{DynamicResource HeaderTextBlockStyle}" Margin="0,0,0,5"/>
            <TextBlock Text="Choose source and target parameters for this mapping" 
                       Style="{DynamicResource BodyTextBlockStyle}" 
                       Foreground="{DynamicResource TextSecondaryBrush}"/>
        </StackPanel>

        <!-- Source Parameter Column -->
        <GroupBox Header="Source Parameter" Grid.Row="1" Grid.Column="0" Margin="0,0,10,0">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <TextBox x:Name="sourceFilterTextBox" Grid.Row="0" Margin="0,0,0,10" 
                         Style="{DynamicResource PlaceholderTextBoxStyle}" 
                         Tag="Filter parameters..." Height="32"/>
                <Border BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1" CornerRadius="3" Grid.Row="1">
                    <ListBox x:Name="sourceParameterListBox" SelectionMode="Single" 
                            Style="{DynamicResource StandardListBoxStyle}" BorderThickness="0"/>
                </Border>
            </Grid>
        </GroupBox>

        <!-- Arrow Separator -->
        <StackPanel Grid.Row="1" Grid.Column="1" VerticalAlignment="Center" Margin="10,0">
            <TextBlock Text="â†’" FontSize="32" FontWeight="Bold" 
                       Foreground="{DynamicResource AccentBrush}" 
                       HorizontalAlignment="Center"/>
            <TextBlock Text="maps to" FontSize="11" 
                       Foreground="{DynamicResource TextSecondaryBrush}" 
                       HorizontalAlignment="Center" Margin="0,5,0,0" FontStyle="Italic"/>
        </StackPanel>

        <!-- Target Parameter Column -->
        <GroupBox Header="Target Parameter" Grid.Row="1" Grid.Column="2" Margin="10,0,0,0">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <TextBox x:Name="targetFilterTextBox" Grid.Row="0" Margin="0,0,0,10" 
                         Style="{DynamicResource PlaceholderTextBoxStyle}" 
                         Tag="Filter parameters..." Height="32"/>
                <Border BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1" CornerRadius="3" Grid.Row="1">
                    <ListBox x:Name="targetParameterListBox" SelectionMode="Single" 
                            Style="{DynamicResource StandardListBoxStyle}" BorderThickness="0"/>
                </Border>
            </Grid>
        </GroupBox>

        <!-- Action Buttons -->
        <StackPanel Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="3" Orientation="Horizontal" 
                    HorizontalAlignment="Right" Margin="0,15,0,0">
            <Button x:Name="cancelButton" Content="Cancel" Width="80" Height="30" 
                    IsCancel="True" Style="{DynamicResource SecondaryButtonStyle}" Margin="0,0,10,0"/>
            <Button x:Name="okButton" Content="OK" Width="80" Height="30" 
                    IsDefault="True" Style="{DynamicResource SuccessButtonStyle}"/>
        </StackPanel>
    </Grid>
</Window>
